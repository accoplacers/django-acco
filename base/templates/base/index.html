<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Accoplacers - Career Support for Accounting & Finance Professionals</title>
    <meta name="description"
        content="Accoplacers - Dubai-based career support and placement firm for Accounting, Audit, and Finance professionals in the GCC region.">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link
        href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700;800&family=Inter:wght@300;400;500;600;700&display=swap"
        rel="stylesheet">
    {% load static %}
    <link rel="stylesheet" href="{% static 'base/css/style.css' %}">
    <link rel="icon" href="{% static 'base/img/favicon.ico' %}" type="image/x-icon">
    <style>
        /* Registration Modal Styles */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.7);
            backdrop-filter: blur(8px);
            z-index: 9999;
            display: none;
            align-items: center;
            justify-content: center;
            padding: 20px;
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .modal-overlay.active {
            display: flex;
            opacity: 1;
        }

        .registration-modal {
            background: #fff;
            border-radius: 24px;
            width: 100%;
            max-width: 900px;
            max-height: 90vh;
            overflow-y: auto;
            position: relative;
            box-shadow: 0 25px 80px rgba(0, 0, 0, 0.3);
            animation: modalSlideIn 0.4s ease;
        }

        @keyframes modalSlideIn {
            from {
                opacity: 0;
                transform: translateY(-50px) scale(0.95);
            }

            to {
                opacity: 1;
                transform: translateY(0) scale(1);
            }
        }

        .modal-header {
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 50%, #0f3460 100%);
            color: #fff;
            padding: 35px 40px;
            border-radius: 24px 24px 0 0;
            text-align: center;
            position: relative;
        }

        .modal-header::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23ffffff' fill-opacity='0.03'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E");
            border-radius: 24px 24px 0 0;
        }

        .modal-close {
            position: absolute;
            top: 20px;
            right: 20px;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.1);
            border: none;
            color: #fff;
            font-size: 1.3em;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 10;
        }

        .modal-close:hover {
            background: rgba(255, 255, 255, 0.25);
            transform: rotate(90deg);
        }

        .modal-header .logo {
            font-size: 1.8em;
            font-weight: 700;
            margin-bottom: 10px;
            position: relative;
        }

        .modal-header .logo i {
            color: #3498db;
            margin-right: 8px;
        }

        .modal-header .logo span {
            color: #3498db;
        }

        .modal-header h2 {
            font-size: 1.6em;
            font-weight: 600;
            margin: 15px 0 8px;
            position: relative;
        }

        .modal-header p {
            opacity: 0.85;
            font-size: 1em;
            margin: 0;
            position: relative;
        }

        .modal-body {
            padding: 40px;
        }

        .modal-form .form-row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-bottom: 0;
        }

        .modal-form .form-group {
            margin-bottom: 22px;
        }

        .modal-form label {
            display: block;
            font-weight: 600;
            color: #1a1a2e;
            margin-bottom: 8px;
            font-size: 0.95em;
        }

        .modal-form label i {
            color: #3498db;
            margin-right: 6px;
            width: 16px;
        }

        .modal-form input,
        .modal-form select {
            width: 100%;
            padding: 14px 16px;
            border: 2px solid #e8ecef;
            border-radius: 12px;
            font-size: 1em;
            transition: all 0.3s ease;
            background: #f8f9fa;
        }

        .modal-form input:focus,
        .modal-form select:focus {
            border-color: #3498db;
            background: #fff;
            outline: none;
            box-shadow: 0 0 0 4px rgba(52, 152, 219, 0.1);
        }

        .modal-form input[type="file"] {
            padding: 12px;
            background: #fff;
            cursor: pointer;
        }

        /* Progress Steps */
        .form-steps {
            display: flex;
            justify-content: center;
            gap: 40px;
            margin-bottom: 30px;
        }

        .step {
            display: flex;
            align-items: center;
            gap: 10px;
            color: #adb5bd;
            font-weight: 500;
            position: relative;
        }

        .step.active {
            color: #3498db;
        }

        .step.completed {
            color: #28a745;
        }

        .step-number {
            width: 32px;
            height: 32px;
            border-radius: 50%;
            background: #e9ecef;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 600;
            font-size: 0.9em;
        }

        .step.active .step-number {
            background: linear-gradient(135deg, #3498db, #2980b9);
            color: #fff;
        }

        .step.completed .step-number {
            background: linear-gradient(135deg, #28a745, #20c997);
            color: #fff;
        }

        /* Plans Section in Modal */
        .plans-section {
            margin: 25px 0;
        }

        .plans-section h3 {
            text-align: center;
            color: #1a1a2e;
            margin-bottom: 20px;
            font-size: 1.3em;
        }

        .modal-plans {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 16px;
        }

        .modal-plan-card {
            border: 2px solid #e8ecef;
            border-radius: 16px;
            padding: 20px;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            background: #fff;
        }

        .modal-plan-card:hover {
            border-color: #3498db;
            transform: translateY(-3px);
            box-shadow: 0 10px 30px rgba(52, 152, 219, 0.1);
        }

        .modal-plan-card.selected {
            border-color: #3498db;
            background: linear-gradient(135deg, rgba(52, 152, 219, 0.05), rgba(52, 152, 219, 0.02));
        }

        .modal-plan-card.selected::after {
            content: '\f00c';
            font-family: 'Font Awesome 6 Free';
            font-weight: 900;
            position: absolute;
            top: 10px;
            right: 10px;
            background: #3498db;
            color: #fff;
            width: 24px;
            height: 24px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.7em;
        }

        .modal-plan-card input[type="radio"] {
            display: none;
        }

        .modal-plan-name {
            font-weight: 700;
            font-size: 1.1em;
            color: #1a1a2e;
            margin-bottom: 5px;
        }

        .modal-plan-price {
            font-size: 1.4em;
            font-weight: 700;
            color: #3498db;
            margin-bottom: 12px;
        }

        .modal-plan-features {
            list-style: none;
            padding: 0;
            margin: 0;
            font-size: 0.85em;
            color: #666;
        }

        .modal-plan-features li {
            padding: 4px 0;
            display: flex;
            align-items: flex-start;
            gap: 8px;
        }

        .modal-plan-features li::before {
            content: '\f00c';
            font-family: 'Font Awesome 6 Free';
            font-weight: 900;
            color: #28a745;
            font-size: 0.8em;
            margin-top: 3px;
        }

        .popular-badge {
            position: absolute;
            top: -10px;
            left: 50%;
            transform: translateX(-50%);
            background: linear-gradient(135deg, #e74c3c, #c0392b);
            color: #fff;
            padding: 4px 14px;
            border-radius: 20px;
            font-size: 0.7em;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        /* Terms in Modal */
        .modal-terms {
            display: flex;
            align-items: flex-start;
            gap: 12px;
            margin: 25px 0;
            padding: 18px;
            background: #f8f9fa;
            border-radius: 12px;
        }

        .modal-terms input[type="checkbox"] {
            width: 20px;
            height: 20px;
            margin-top: 2px;
            cursor: pointer;
            accent-color: #3498db;
        }

        .modal-terms label {
            margin: 0;
            font-size: 0.95em;
            color: #555;
            cursor: pointer;
        }

        .modal-terms a {
            color: #3498db;
            font-weight: 500;
        }

        /* Submit Button in Modal */
        .modal-submit {
            width: 100%;
            padding: 18px;
            background: linear-gradient(135deg, #3498db 0%, #2980b9 100%);
            color: #fff;
            border: none;
            border-radius: 12px;
            font-size: 1.1em;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }

        .modal-submit:hover {
            background: linear-gradient(135deg, #2980b9 0%, #1a5276 100%);
            transform: translateY(-2px);
            box-shadow: 0 10px 30px rgba(52, 152, 219, 0.3);
        }

        .modal-submit:disabled {
            opacity: 0.7;
            cursor: not-allowed;
            transform: none;
        }

        /* Join Section Redesign */
        .join-section {
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
            padding: 100px 0;
        }

        .join-section h2 {
            text-align: center;
            margin-bottom: 15px;
        }

        .join-section .section-subtitle {
            text-align: center;
            color: #666;
            font-size: 1.1em;
            max-width: 600px;
            margin: 0 auto 50px;
        }

        .join-cards {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 40px;
            max-width: 900px;
            margin: 0 auto;
        }

        .join-card {
            background: #fff;
            border-radius: 24px;
            padding: 45px 40px;
            text-align: center;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.08);
            transition: all 0.4s ease;
            position: relative;
            overflow: hidden;
        }

        .join-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 5px;
        }

        .join-card.employee::before {
            background: linear-gradient(90deg, #3498db, #2980b9);
        }

        .join-card.employer::before {
            background: linear-gradient(90deg, #e74c3c, #c0392b);
        }

        .join-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 30px 80px rgba(0, 0, 0, 0.12);
        }

        .join-card-icon {
            width: 90px;
            height: 90px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 25px;
            font-size: 2.2em;
            color: #fff;
        }

        .join-card.employee .join-card-icon {
            background: linear-gradient(135deg, #3498db, #2980b9);
        }

        .join-card.employer .join-card-icon {
            background: linear-gradient(135deg, #e74c3c, #c0392b);
        }

        .join-card h3 {
            font-size: 1.5em;
            color: #1a1a2e;
            margin-bottom: 12px;
        }

        .join-card p {
            color: #666;
            margin-bottom: 25px;
            line-height: 1.7;
        }

        .join-card .btn {
            padding: 16px 35px;
            border-radius: 10px;
            font-weight: 600;
            text-decoration: none;
            display: inline-block;
            transition: all 0.3s ease;
        }

        .join-card.employee .btn {
            background: linear-gradient(135deg, #3498db, #2980b9);
            color: #fff;
        }

        .join-card.employee .btn:hover {
            box-shadow: 0 10px 30px rgba(52, 152, 219, 0.3);
            transform: translateY(-2px);
        }

        .join-card.employer .btn {
            background: linear-gradient(135deg, #e74c3c, #c0392b);
            color: #fff;
        }

        .join-card.employer .btn:hover {
            box-shadow: 0 10px 30px rgba(231, 76, 60, 0.3);
            transform: translateY(-2px);
        }

        .join-card-features {
            list-style: none;
            padding: 0;
            margin: 20px 0 25px;
            text-align: left;
        }

        .join-card-features li {
            padding: 8px 0;
            color: #555;
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .join-card-features li i {
            color: #28a745;
            font-size: 0.9em;
        }

        /* Responsive Modal */
        @media (max-width: 768px) {
            .modal-body {
                padding: 25px;
            }

            .modal-form .form-row {
                grid-template-columns: 1fr;
            }

            .modal-plans {
                grid-template-columns: 1fr;
            }

            .form-steps {
                flex-direction: column;
                align-items: center;
                gap: 15px;
            }

            .join-cards {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>

<body>
    <!-- Django Messages -->
    {% if messages %}
    <div id="message-popup">
        {% for message in messages %}
        <div class="message-box {{ message.tags }}">
            {{ message }}
            <span class="close-btn" onclick="this.parentElement.remove();">&times;</span>
        </div>
        {% endfor %}
    </div>
    {% endif %}

    <!-- Header -->
    <header id="header">
        <div class="container header-container">
            <a href="/">
                <div class="logo"><i class="fas fa-briefcase"></i>Acco<span>placers</span></div>
            </a>
            <div class="mobile-menu" id="mobileMenu">☰</div>
            <nav id="navMenu">
                <ul>
                    <li><a href="#home">Home</a></li>
                    <li><a href="#about">About Us</a></li>
                    <li><a href="#services">Services</a></li>
                    <li><a href="#register">Register</a></li>
                    <li><a href="#contact">Contact</a></li>
                    <li class="login-dropdown">
                        <a href="#" class="login-trigger">Login <i class="fas fa-chevron-down"></i></a>
                        <div class="login-menu">
                            <a href="{% url 'employee_login' %}"><i class="fas fa-user"></i> Employee Login</a>
                            <a href="{% url 'employer_login' %}"><i class="fas fa-building"></i> Employer Login</a>
                        </div>
                    </li>
                </ul>
            </nav>
        </div>
    </header>

    <!-- Hero Section -->
    <section class="hero" id="home">
        <div class="container">
            <div class="hero-content">
                <h1>Your Career in Accounting & Finance Starts Here</h1>
                <p>Accoplacers connects talented Accounting, Auditing and Finance Professionals with Top Employers
                    across the GCC region.</p>
                <div class="hero-btns">
                    <a href="#register" class="btn btn-accent">Register With Us</a>
                </div>
            </div>
        </div>
    </section>

    <!-- About Section -->
    <section class="about" id="about">
        <div class="container">
            <h2>About Accoplacers</h2>
            <div class="about-content">
                <div class="about-text">
                    <p><strong>Accoplacers</strong> is a Dubai-based professional career support and placement firm
                        focused on empowering job seekers in the fields of Accounting, Audit, and Finance.</p>
                    <p>Our promoters are seasoned professionals with over <strong>15 years of experience</strong> in the
                        industry, having worked closely with reputed firms across the GCC.</p>
                    <p>We understand the unique needs of both candidates and employers, and bridge this gap through our
                        expert advisory, resume matching, and career mentoring services.</p>
                    <p>At <strong>Accoplacers</strong>, we are not just recruiters — we are career enablers.</p>
                </div>
                <div class="about-img">
                    <img src="https://images.unsplash.com/photo-1521791136064-7986c2920216?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80"
                        alt="Team meeting">
                </div>
            </div>
        </div>
    </section>

    <!-- Services Section -->
    <section class="services" id="services">
        <div class="container">
            <h2>Our Services</h2>
            <div class="services-grid">
                <div class="service-card">
                    <div class="service-icon"><i class="fas fa-file-alt"></i></div>
                    <h3>Resume Screening & Placement</h3>
                    <p>We evaluate your profile and connect you with the most suitable openings in accounting, audit,
                        and finance roles.</p>
                </div>
                <div class="service-card">
                    <div class="service-icon"><i class="fas fa-chart-line"></i></div>
                    <h3>Career Guidance & Mentoring</h3>
                    <p>Our team of experienced professionals provides career coaching, interview tips, and personalized
                        guidance.</p>
                </div>
                <div class="service-card">
                    <div class="service-icon"><i class="fas fa-building"></i></div>
                    <h3>Employer Assistance</h3>
                    <p>For companies, we offer professional staffing solutions, from screening to onboarding of
                        qualified candidates in finance roles.</p>
                </div>
                <div class="service-card">
                    <div class="service-icon"><i class="fas fa-user-graduate"></i></div>
                    <h3>Internship Opportunities</h3>
                    <p>We help freshers find meaningful internships that match their academic background and career
                        goals.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Why Choose Us Section -->
    <section class="why-us">
        <div class="container">
            <h2>Why Choose Accoplacers</h2>
            <div class="features">
                <div class="feature">
                    <div class="feature-icon"><i class="fas fa-award"></i></div>
                    <h3>Industry Expertise</h3>
                    <p>Promoters with over 15 years of experience in the accounting and finance sector.</p>
                </div>
                <div class="feature">
                    <div class="feature-icon"><i class="fas fa-bullseye"></i></div>
                    <h3>Focused Approach</h3>
                    <p>We specialize only in finance-related careers — ensuring targeted results.</p>
                </div>
                <div class="feature">
                    <div class="feature-icon"><i class="fas fa-hands-helping"></i></div>
                    <h3>Personalized Support</h3>
                    <p>Each candidate receives individual attention and career mentoring.</p>
                </div>
                <div class="feature">
                    <div class="feature-icon"><i class="fas fa-map-marker-alt"></i></div>
                    <h3>Local Presence</h3>
                    <p>Our team operates from Dubai and understands the UAE job market in depth.</p>
                </div>
                <div class="feature">
                    <div class="feature-icon"><i class="fas fa-lock"></i></div>
                    <h3>Confidential & Secure</h3>
                    <p>Your data is protected with us and is never shared without consent.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Join Accoplacers Section - NEW DESIGN -->
    <section class="join-section" id="register">
        <div class="container">
            <h2>Join Accoplacers</h2>
            <p class="section-subtitle">Choose your path and start your journey towards career success in the accounting
                and finance industry.</p>

            <div class="join-cards">
                <!-- Employee Registration Card -->
                <div class="join-card employee">
                    <div class="join-card-icon">
                        <i class="fas fa-user-tie"></i>
                    </div>
                    <h3>Job Seeker</h3>
                    <p>Looking for your next career opportunity? Register with us and get access to exclusive job
                        openings.</p>
                    <ul class="join-card-features">
                        <li><i class="fas fa-check"></i> Access to job opportunities</li>
                        <li><i class="fas fa-check"></i> Professional CV review</li>
                        <li><i class="fas fa-check"></i> Interview preparation tips</li>
                        <li><i class="fas fa-check"></i> Career guidance & mentoring</li>
                    </ul>
                    <button class="btn" id="openEmployeeModal">
                        <i class="fas fa-user-plus"></i> Register as Employee
                    </button>
                </div>

                <!-- Employer Registration Card -->
                <div class="join-card employer">
                    <div class="join-card-icon">
                        <i class="fas fa-building"></i>
                    </div>
                    <h3>Employer</h3>
                    <p>Looking to hire qualified finance professionals? Access our curated pool of talented candidates.
                    </p>
                    <ul class="join-card-features">
                        <li><i class="fas fa-check"></i> Access to verified candidates</li>
                        <li><i class="fas fa-check"></i> Pre-screened profiles</li>
                        <li><i class="fas fa-check"></i> Quick hiring process</li>
                        <li><i class="fas fa-check"></i> Dedicated support team</li>
                    </ul>
                    <a href="{% url 'employer_register' %}" class="btn">
                        <i class="fas fa-building"></i> Register as Employer
                    </a>
                </div>
            </div>
        </div>
    </section>

    <!-- Contact Section -->
    <section class="contact" id="contact">
        <div class="container">
            <h2>Contact Us</h2>
            <div class="contact-container">
                <div class="contact-info">
                    <h3>Get in Touch</h3>
                    <p><i class="fas fa-phone-alt"></i> +971 589288746</p>
                    <p><i class="fas fa-map-marker-alt"></i> Abu Hail, Dubai, UAE</p>
                    <p><i class="fas fa-envelope"></i> accoplacers@gmail.com</p>

                    <div class="social-links">
                        <a href="https://www.instagram.com/accoplacers"><i class="fab fa-instagram"></i></a>
                    </div>
                </div>
                <div class="contact-form">
                    <form id="contactForm" action="/contact/" method="POST">
                        {% csrf_token %}
                        <div class="form-group">
                            <label for="contact-name">Name</label>
                            <input type="text" id="contact-name" name="contact-name" required>
                        </div>
                        <div class="form-group">
                            <label for="contact-email">Email</label>
                            <input type="email" id="contact-email" name="contact-email" required>
                        </div>
                        <div class="form-group">
                            <label for="contact-phone">Phone</label>
                            <input type="tel" id="contact-phone" name="contact-phone" required>
                        </div>
                        <div class="form-group">
                            <label for="contact-message">Message</label>
                            <textarea id="contact-message" name="contact-message" required></textarea>
                        </div>
                        <div class="form-group text-center">
                            <button type="submit" class="btn">Send Message</button>
                        </div>
                        <div id="contactStatus" class="form-status"></div>
                    </form>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer>
        <div class="container">
            <div class="footer-container">
                <div class="footer-col">
                    <h3>Accoplacers</h3>
                    <p>Career support and placement services for accounting, audit & finance professionals in the GCC
                        region.</p>
                    <div class="social-links">
                        <a href="https://www.instagram.com/accoplacers"><i class="fab fa-instagram"></i></a>
                    </div>
                </div>
                <div class="footer-col">
                    <h3>Quick Links</h3>
                    <ul>
                        <li><a href="#home"><i class="fas fa-chevron-right"></i> Home</a></li>
                        <li><a href="#about"><i class="fas fa-chevron-right"></i> About Us</a></li>
                        <li><a href="#services"><i class="fas fa-chevron-right"></i> Services</a></li>
                        <li><a href="#register"><i class="fas fa-chevron-right"></i> Register</a></li>
                        <li><a href="#contact"><i class="fas fa-chevron-right"></i> Contact</a></li>
                    </ul>
                </div>
                <div class="footer-col">
                    <h3>Services</h3>
                    <ul>
                        <li><a href="#services"><i class="fas fa-chevron-right"></i> Resume Screening</a></li>
                        <li><a href="#services"><i class="fas fa-chevron-right"></i> Career Guidance</a></li>
                        <li><a href="#services"><i class="fas fa-chevron-right"></i> Employer Assistance</a></li>
                        <li><a href="#services"><i class="fas fa-chevron-right"></i> Internship Opportunities</a></li>
                    </ul>
                </div>
                <div class="footer-col">
                    <h3>Contact</h3>
                    <ul>
                        <li><i class="fas fa-map-marker-alt"></i> Abu Hail, Dubai, UAE</li>
                        <li><i class="fas fa-phone-alt"></i> +971 589288746</li>
                        <li><i class="fas fa-envelope"></i> accoplacers@gmail.com</li>
                    </ul>
                </div>
            </div>
            <div class="copyright">
                <p style="color: rgba(255, 255, 255, 0.747);">&copy; 2025 Accoplacers. All Rights Reserved.</p>
            </div>
        </div>
    </footer>

    <a href="https://wa.me/+971589288746" class="float-whatsapp" target="_blank">
        <i class="fab fa-whatsapp"></i>
    </a>

    <!-- Employee Registration Modal -->
    <div class="modal-overlay" id="employeeModal">
        <div class="registration-modal">
            <div class="modal-header">
                <button class="modal-close" id="closeModal">
                    <i class="fas fa-times"></i>
                </button>
                <div class="logo"><i class="fas fa-briefcase"></i>Acco<span>placers</span></div>
                <h2>Employee Registration</h2>
                <p>Join our network of accounting & finance professionals</p>
            </div>

            <div class="modal-body">
                <div class="form-steps">
                    <div class="step active" data-step="1">
                        <span class="step-number">1</span>
                        <span>Personal Info</span>
                    </div>
                    <div class="step" data-step="2">
                        <span class="step-number">2</span>
                        <span>Professional Details</span>
                    </div>
                    <div class="step" data-step="3">
                        <span class="step-number">3</span>
                        <span>Choose Plan</span>
                    </div>
                </div>

                <form id="registrationForm" action="/register/" method="POST" enctype="multipart/form-data"
                    class="modal-form">
                    {% csrf_token %}

                    <!-- Step 1: Personal Info -->
                    <div class="form-step-content" id="step1">
                        <div class="form-row">
                            <div class="form-group">
                                <label for="name"><i class="fas fa-user"></i> Full Name</label>
                                <input type="text" id="name" name="name" placeholder="Enter your full name" required>
                            </div>
                            <div class="form-group">
                                <label for="email"><i class="fas fa-envelope"></i> Email Address</label>
                                <input type="email" id="email" name="email" placeholder="your@email.com" required>
                            </div>
                        </div>

                        <div class="form-row">
                            <div class="form-group">
                                <label for="password"><i class="fas fa-lock"></i> Create Password</label>
                                <input type="password" id="password" name="password" placeholder="Min. 6 characters"
                                    required minlength="6">
                            </div>
                            <div class="form-group">
                                <label for="confirm_password"><i class="fas fa-lock"></i> Confirm Password</label>
                                <input type="password" id="confirm_password" name="confirm_password"
                                    placeholder="Re-enter password" required minlength="6">
                            </div>
                        </div>

                        <div class="form-row">
                            <div class="form-group">
                                <label for="phone"><i class="fas fa-phone"></i> Phone Number</label>
                                <input type="tel" id="phone" name="phone" placeholder="+971 XX XXX XXXX" required>
                            </div>
                            <div class="form-group">
                                <label for="nationality"><i class="fas fa-globe"></i> Nationality</label>
                                <input type="text" id="nationality" name="nationality" placeholder="Your nationality"
                                    required>
                            </div>
                        </div>
                    </div>

                    <!-- Step 2: Professional Details -->
                    <div class="form-step-content" id="step2" style="display: none;">
                        <div class="form-row">
                            <div class="form-group">
                                <label for="location"><i class="fas fa-map-marker-alt"></i> Current Location</label>
                                <input type="text" id="location" name="location" placeholder="City, Country" required>
                            </div>
                            <div class="form-group">
                                <label for="qualification"><i class="fas fa-graduation-cap"></i> Highest
                                    Qualification</label>
                                <input type="text" id="qualification" name="qualification"
                                    placeholder="e.g., MBA, CA, CPA" required>
                            </div>
                        </div>

                        <div class="form-row">
                            <div class="form-group">
                                <label for="experience"><i class="fas fa-briefcase"></i> Years of Experience</label>
                                <select id="experience" name="experience" required>
                                    <option value="">Select experience</option>
                                    <option value="0-1">0-1 years (Fresher)</option>
                                    <option value="1-3">1-3 years</option>
                                    <option value="3-5">3-5 years</option>
                                    <option value="5-10">5-10 years</option>
                                    <option value="10+">10+ years</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="role"><i class="fas fa-user-tie"></i> Preferred Role/Industry</label>
                                <input type="text" id="role" name="role" placeholder="e.g., Senior Accountant" required>
                            </div>
                        </div>

                        <div class="form-group">
                            <label for="resume"><i class="fas fa-file-pdf"></i> Upload Resume (PDF or DOC)</label>
                            <input type="file" id="resume" name="resume" accept=".pdf,.doc,.docx" required>
                            <small style="color: #888; display: block; margin-top: 6px;">Maximum file size: 5MB</small>
                        </div>

                        <div class="form-group">
                            <label for="photo"><i class="fas fa-camera"></i> Professional Photo (Optional)</label>
                            <input type="file" id="photo" name="photo" accept="image/*">
                            <small style="color: #888; display: block; margin-top: 6px;">Upload a professional headshot
                                photo (JPG/PNG)</small>
                        </div>
                    </div>


                    <!-- Step 3: Choose Plan -->
                    <div class="form-step-content" id="step3" style="display: none;">
                        <div class="plans-section">
                            <h3><i class="fas fa-star"></i> Choose Your Registration Plan</h3>

                            <div class="modal-plans">
                                <label class="modal-plan-card" for="plan-basic">
                                    <input type="radio" id="plan-basic" name="plan" value="basic" required>
                                    <div class="modal-plan-name">Basic</div>
                                    <div class="modal-plan-price">49 AED</div>
                                    <ul class="modal-plan-features">
                                        <li>Job Openings Notifications</li>
                                        <li>CV Redesign (if needed)</li>
                                        <li>Interview Coordination</li>
                                    </ul>
                                </label>

                                <label class="modal-plan-card" for="plan-intermediate">
                                    <span class="popular-badge">Popular</span>
                                    <input type="radio" id="plan-intermediate" name="plan" value="intermediate">
                                    <div class="modal-plan-name">Intermediate</div>
                                    <div class="modal-plan-price">89 AED</div>
                                    <ul class="modal-plan-features">
                                        <li>Everything in Basic</li>
                                        <li>LinkedIn Profile Optimization</li>
                                        <li>Priority job matching</li>
                                    </ul>
                                </label>

                                <label class="modal-plan-card" for="plan-premium">
                                    <input type="radio" id="plan-premium" name="plan" value="premium">
                                    <div class="modal-plan-name">Premium</div>
                                    <div class="modal-plan-price">149 AED</div>
                                    <ul class="modal-plan-features">
                                        <li>Everything in Intermediate</li>
                                        <li>1-hour Career Session</li>
                                        <li>Interview Prep & Tips</li>
                                    </ul>
                                </label>
                            </div>

                            <p style="text-align: center; color: #888; font-size: 0.85em; margin-top: 15px;">
                                * Registration fees are non-refundable. Success-based service charge may apply after
                                placement.
                            </p>
                        </div>

                        <div class="modal-terms">
                            <input type="checkbox" id="terms" name="terms" required>
                            <label for="terms">
                                I agree to the <a href="/terms/" target="_blank">Terms and Conditions</a> and consent to
                                the processing of my personal data.
                            </label>
                        </div>
                    </div>

                    <!-- Navigation Buttons -->
                    <div style="display: flex; gap: 15px; margin-top: 20px;">
                        <button type="button" class="modal-submit" id="prevBtn"
                            style="display: none; background: #e9ecef; color: #333;">
                            <i class="fas fa-arrow-left"></i> Previous
                        </button>
                        <button type="button" class="modal-submit" id="nextBtn">
                            Next <i class="fas fa-arrow-right"></i>
                        </button>
                        <button type="submit" class="modal-submit" id="submitBtn" style="display: none;">
                            <span class="btn-text"><i class="fas fa-check-circle"></i> Complete Registration</span>
                            <span class="btn-loader"></span>
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <script src="{% static 'base/js/script.js' %}"></script>
    <script src="https://js.stripe.com/v3/"></script>

    <script>
        // Modal Controls
        const modal = document.getElementById('employeeModal');
        const openBtn = document.getElementById('openEmployeeModal');
        const closeBtn = document.getElementById('closeModal');

        openBtn.addEventListener('click', () => {
            modal.classList.add('active');
            document.body.style.overflow = 'hidden';
        });

        closeBtn.addEventListener('click', () => {
            modal.classList.remove('active');
            document.body.style.overflow = 'auto';
        });

        modal.addEventListener('click', (e) => {
            if (e.target === modal) {
                modal.classList.remove('active');
                document.body.style.overflow = 'auto';
            }
        });

        // Multi-step Form
        let currentStep = 1;
        const totalSteps = 3;
        const steps = document.querySelectorAll('.step');
        const stepContents = document.querySelectorAll('.form-step-content');
        const prevBtn = document.getElementById('prevBtn');
        const nextBtn = document.getElementById('nextBtn');
        const submitBtn = document.getElementById('submitBtn');

        function showStep(step) {
            stepContents.forEach((content, index) => {
                content.style.display = index + 1 === step ? 'block' : 'none';
            });

            steps.forEach((s, index) => {
                s.classList.remove('active', 'completed');
                if (index + 1 < step) s.classList.add('completed');
                if (index + 1 === step) s.classList.add('active');
            });

            prevBtn.style.display = step > 1 ? 'flex' : 'none';
            nextBtn.style.display = step < totalSteps ? 'flex' : 'none';
            submitBtn.style.display = step === totalSteps ? 'flex' : 'none';
        }

        function validateStep(step) {
            const stepContent = document.getElementById(`step${step}`);
            const inputs = stepContent.querySelectorAll('input[required], select[required]');
            let valid = true;

            inputs.forEach(input => {
                if (!input.value.trim()) {
                    input.style.borderColor = '#e74c3c';
                    valid = false;
                } else {
                    input.style.borderColor = '#e8ecef';
                }
            });

            // Password match check for step 1
            if (step === 1) {
                const pwd = document.getElementById('password').value;
                const confirmPwd = document.getElementById('confirm_password').value;
                if (pwd !== confirmPwd) {
                    alert('Passwords do not match!');
                    valid = false;
                }
            }

            return valid;
        }

        nextBtn.addEventListener('click', () => {
            if (validateStep(currentStep)) {
                currentStep++;
                showStep(currentStep);
            }
        });

        prevBtn.addEventListener('click', () => {
            currentStep--;
            showStep(currentStep);
        });

        // Plan Selection
        document.querySelectorAll('.modal-plan-card').forEach(card => {
            card.addEventListener('click', () => {
                document.querySelectorAll('.modal-plan-card').forEach(c => c.classList.remove('selected'));
                card.classList.add('selected');
            });
        });

        // Form Submission with Stripe
        const stripe = Stripe('{{ stripe_public_key }}');
        const form = document.getElementById('registrationForm');

        form.addEventListener('submit', function (e) {
            e.preventDefault();

            const resumeInput = document.getElementById('resume');
            const file = resumeInput.files[0];
            if (file && file.size > 5 * 1024 * 1024) {
                alert('File size exceeds 5MB');
                return;
            }

            const termsCheckbox = document.getElementById('terms');
            if (!termsCheckbox.checked) {
                alert('Please agree with the terms and conditions.');
                return;
            }

            const formData = new FormData(form);

            // Add loading state
            submitBtn.classList.add('loading');
            submitBtn.disabled = true;

            fetch('/register/temp-save/', {
                method: 'POST',
                body: formData,
                headers: {
                    'X-CSRFToken': '{{ csrf_token }}'
                }
            })
                .then(res => {
                    if (!res.ok) throw new Error("Temp-save failed: " + res.status);
                    return res.json();
                })
                .then(data => {
                    if (data.status !== 'success') throw new Error(data.message || "Temp save failed");

                    const selectedPlan = document.querySelector('input[name="plan"]:checked');
                    if (!selectedPlan) {
                        alert('Please select a registration plan.');
                        return;
                    }

                    return fetch("{% url 'create_checkout_session' %}", {
                        method: "POST",
                        headers: {
                            "Content-Type": "application/json",
                            "X-CSRFToken": "{{ csrf_token }}"
                        },
                        body: JSON.stringify({ plan: selectedPlan.value })
                    });
                })
                .then(res => {
                    if (!res.ok) throw new Error("Stripe session failed: " + res.status);
                    return res.json();
                })
                .then(data => {
                    if (!data.id) throw new Error("No session ID returned");
                    return stripe.redirectToCheckout({ sessionId: data.id });
                })
                .catch(err => {
                    console.error(err);
                    alert("Error: " + err.message);
                    submitBtn.classList.remove('loading');
                    submitBtn.disabled = false;
                });
        });
    </script>
</body>

</html>